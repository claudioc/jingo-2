<link rel="stylesheet" href="/public/vendor/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="/public/css/codemirror-ext.css">
{{>errors}}
<p>
  <span class="sans do-preview">Preview</span>
  <span class="sans do-edit hidden">Back to edit</span>
</p>
<section class="editor">
  <h1>Editing {{docTitle}}</h1>
  <form id="editor-form" method="post" action="{{urlFor resource="doc" action="update"}}">
    <input type="hidden" value="{{into}}" name="into">
    <input type="hidden" value="{{docName}}" name="docName">
    {{#if (eq docName wikiIndex)}}
    <input type="hidden" name="docTitle" value={{wikiIndex}}>
    {{else}}
    <div>
      <input autofocus type="text" value="{{docTitle}}" name="docTitle" required>
    </div>
    {{/if}}
    <div>
      <textarea id="editor-content" name="content">{{{content}}}</textarea>
    </div>
    <div>
      <input type="submit" value="Save">
    </div>
  </form>
  <p><a href="{{urlFor resource="doc" id=docName action="delete" into=into}}" class="sans">Delete this documentâ€¦</a></p>
</section>
<section class="preview hidden">
  <h1>Previewing {{docTitle}}</h1>
  <div class="content"></div>
</section>

<script src="/public/vendor/codemirror/lib/codemirror.min.js"></script>
<script src="/public/js/editor.js"></script>
<script src="/public/js/app.js"></script>
